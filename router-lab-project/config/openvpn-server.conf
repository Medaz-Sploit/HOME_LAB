# Educational OpenVPN Server Configuration
# For lab environment internal network access

# Network settings
port 1194
proto udp
dev tun

# Certificates and keys
ca /etc/openvpn/ca.crt
cert /etc/openvpn/server.crt
key /etc/openvpn/server.key
dh /etc/openvpn/dh2048.pem

# Network topology
server 10.8.0.0 255.255.255.0
push "route 192.168.1.0 255.255.255.0"
push "dhcp-option DNS 192.168.1.1"

# Client configuration
ifconfig-pool-persist /tmp/ipp.txt
client-to-client
keepalive 10 120

# Security
cipher AES-256-CBC
auth SHA256
tls-auth /etc/openvpn/ta.key 0
key-direction 0

# Compression
comp-lzo

# Logging
status /tmp/openvpn-status.log
log /tmp/openvpn.log
verb 3

# Persistence
persist-key
persist-tun

# User/Group
user nobody
group nogroup

# Allow multiple clients with same cert
duplicate-cn

# Management interface for remote control
management 127.0.0.1 7505